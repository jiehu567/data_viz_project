<html>
<head>
	<title>Bay Are Bike Share</title>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.12/d3.js"></script>
	<link href="favicon.ico" rel="icon" type="image/x-icon" />
	<style type="text/css">
		.axis path,
		.axis line {
			fill: none;
			stroke: black;
			shape-rendering: crispEdges;
		}
		.axis text {
			font-family: helvetica;
			font-size: 15px;
		}
	</style>
</head>
<body>
	<script type="text/javascript">
		var dataset = [];
		var numDataPoints = 20;
		var xrange = Math.random() * 1000;
		var yrange = Math.random() * 1000;

		for (var i = 0; i < numDataPoints; i++) {
			var newNumber1 = Math.floor(Math.random() * xrange);
			var newNumber2 = Math.floor(Math.random() * yrange);
			dataset.push([newNumber1, newNumber2]);
		}


	//var dataset = [[1,2],[2,4],[3,6],[7,8], [1,4],[6,9],[34,10],[65,5],[1,4],[44,2],[3,5],[7,2]];
	var W = 700
	var H = 350
	var padding = 40
	// create the svg to draw upon
	var svg = d3.select("body")
	.append("svg")
	.attr("width", W)
	.attr("height", H);

	// lets just create some circles to test
	var xscale = d3.scale.linear()
	.domain([0, d3.max(dataset, function(d) {return d[0];})])
	.range([padding,W - padding]);

	var yscale = d3.scale.linear()
	.domain([0, d3.max(dataset, function(d) {return d[1];})])
	.range([H - padding, padding]);

	var xAxis = d3.svg.axis()
	.scale(xscale)
	.orient("bottom");

	var yAxis = d3.svg.axis()
	.scale(yscale)
	.orient("left")
	.ticks(5);

	svg.selectAll("circle")
	.data(dataset)
	.enter()
	.append("circle")
	.attr("cx", function(d) { return xscale(d[0])})
	.attr("cy", function(d) { return yscale(d[1])})
	.attr("r", 5)
	.attr("fill", function(d) {
		return "rgb(87,158," + (d[1]*5) + ")";
	});
	svg.append("g")
	.attr("class", "axis")
	.attr("transform", "translate(0," + (H - padding) + ")")
	.call(xAxis);

	svg.append("g")
	.attr("class", "axis")
	.attr("transform", "translate(" + padding + ",0)")
	.call(yAxis);

	var btn = document.createElement("BUTTON");
	var t = document.createTextNode("Generate Random Data");
	btn.appendChild(t);
	document.body.appendChild(btn);

	d3.select("BUTTON")
	.on("click", function() {
		var dataset = [];
		var numDataPoints = 20;
		var xrange = Math.random() * 1000;
		var yrange = Math.random() * 1000;

		for (var i = 0; i < numDataPoints; i++) {
			var newNumber1 = Math.floor(Math.random() * xrange);
			var newNumber2 = Math.floor(Math.random() * yrange);
			dataset.push([newNumber1, newNumber2]);
		}

		svg.selectAll("circle")
			.data(dataset)
			.attr("cx", function(d) { return xscale(d[0])})
			.attr("cy", function(d) { return yscale(d[1])})
			.attr("r", 5)
			.attr("fill", function(d) {
				return "rgb(87,158," + (d[1]*5) + ")";
		});

		svg.select("g")
			.attr("class", "axis")
			.attr("transform", "translate(0," + (H - padding) + ")")
			.call(xAxis);
		svg.select("g")
			.attr("class", "axis")
			.attr("transform", "translate(0," + (H - padding) + ")")
			.call(yAxis);


	});

</script>
</body>
</html>